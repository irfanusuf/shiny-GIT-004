{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { axiosInstance } from './axiosInstance';\nconst IsAuthorised = () => {\n  _s();\n  const naviagte = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    console.log(token);\n    if (!token || token === undefined || token === null) {\n      naviagte(\"/login\"); // forbidden access\n      return false;\n    }\n    const verifyToken = async () => {\n      try {\n        const res = await axiosInstance.get(`user/verify/${token}`);\n        console.log(res.data);\n        if (res.status === 200) {\n          return true;\n        } else {\n          naviagte(\"/login\");\n          return false;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    verifyToken();\n  }, [naviagte]);\n};\n_s(IsAuthorised, \"RziBe1nCMcPN5GQ09PTdm81WUfg=\", false, function () {\n  return [useNavigate];\n});\n_c = IsAuthorised;\nexport default IsAuthorised;\nvar _c;\n$RefreshReg$(_c, \"IsAuthorised\");","map":{"version":3,"names":["useEffect","useNavigate","axiosInstance","IsAuthorised","_s","naviagte","token","localStorage","getItem","console","log","undefined","verifyToken","res","get","data","status","error","_c","$RefreshReg$"],"sources":["/home/irfan_usuf/ILS/GIT004/P3_fuzzyGoggle/client/src/utils/IsAuthorised.jsx"],"sourcesContent":["import  { useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport { axiosInstance } from './axiosInstance';\n\nconst IsAuthorised = () => {\n\n    const  naviagte = useNavigate();\n\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"token\");\n\n        console.log(token)\n\n        if (!token || token === undefined || token === null) {\n            naviagte(\"/login\");     // forbidden access\n            return false;\n        }\n        \n        const verifyToken = async ()=>{\n\n            try {\n                const res = await axiosInstance.get(`user/verify/${token}`)\n    \n                console.log(res.data);\n                if (res.status === 200) {\n                    return true;\n                } else {\n                    naviagte(\"/login\");\n                    return false;\n                }\n            } catch (error) {\n                console.log(error);\n            }   \n    \n        }\n        verifyToken();\n    }, [naviagte])\n\n\n}\n\nexport default IsAuthorised"],"mappings":";AAAA,SAAUA,SAAS,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,aAAa,QAAQ,iBAAiB;AAE/C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEvB,MAAOC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAG/BD,SAAS,CAAC,MAAM;IACZ,MAAMM,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE3CC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAElB,IAAI,CAACA,KAAK,IAAIA,KAAK,KAAKK,SAAS,IAAIL,KAAK,KAAK,IAAI,EAAE;MACjDD,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAK;MACxB,OAAO,KAAK;IAChB;IAEA,MAAMO,WAAW,GAAG,MAAAA,CAAA,KAAU;MAE1B,IAAI;QACA,MAAMC,GAAG,GAAG,MAAMX,aAAa,CAACY,GAAG,CAAC,eAAeR,KAAK,EAAE,CAAC;QAE3DG,OAAO,CAACC,GAAG,CAACG,GAAG,CAACE,IAAI,CAAC;QACrB,IAAIF,GAAG,CAACG,MAAM,KAAK,GAAG,EAAE;UACpB,OAAO,IAAI;QACf,CAAC,MAAM;UACHX,QAAQ,CAAC,QAAQ,CAAC;UAClB,OAAO,KAAK;QAChB;MACJ,CAAC,CAAC,OAAOY,KAAK,EAAE;QACZR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;MACtB;IAEJ,CAAC;IACDL,WAAW,CAAC,CAAC;EACjB,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;AAGlB,CAAC;AAAAD,EAAA,CApCKD,YAAY;EAAA,QAEIF,WAAW;AAAA;AAAAiB,EAAA,GAF3Bf,YAAY;AAsClB,eAAeA,YAAY;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}