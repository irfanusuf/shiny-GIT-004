{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { axiosInstance } from './axiosInstance';\nimport { useNavigate } from 'react-router-dom';\nconst IsAuthorised = () => {\n  _s();\n  const token = localStorage.getItem(\"token\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    const checkAuthorization = async () => {\n      if (!token || token === \"undefined\" || token === \"null\") {\n        navigate('/login');\n        return;\n      }\n      const verifyToken = async () => {\n        try {\n          const res = await axiosInstance.get(`user/verify/${token}`);\n          console.log(res.data);\n          if (res.status === 200) {\n            return true;\n          } else {\n            return false;\n          }\n        } catch (error) {\n          console.error(\"Error verifying token:\", error);\n          return false;\n        }\n      };\n      const verify = await verifyToken();\n      if (!verify) {\n        navigate('/login');\n      }\n    };\n    checkAuthorization();\n  }, [token, navigate]);\n};\n_s(IsAuthorised, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = IsAuthorised;\nexport default IsAuthorised;\nvar _c;\n$RefreshReg$(_c, \"IsAuthorised\");","map":{"version":3,"names":["useEffect","axiosInstance","useNavigate","IsAuthorised","_s","token","localStorage","getItem","navigate","checkAuthorization","verifyToken","res","get","console","log","data","status","error","verify","_c","$RefreshReg$"],"sources":["/home/irfan_usuf/ILS/GIT004/P3_fuzzyGoggle/client/src/utils/IsAuthorised.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { axiosInstance } from './axiosInstance';\nimport { useNavigate } from 'react-router-dom';\n\nconst IsAuthorised = () => {\n    const token = localStorage.getItem(\"token\");\n    const navigate = useNavigate();\n\n\n    useEffect(() => {\n        const checkAuthorization = async () => {\n            if (!token || token === \"undefined\" || token === \"null\") {\n                navigate('/login'); \n                return;\n            }\n\n            const verifyToken = async () => {\n                try {\n                    const res = await axiosInstance.get(`user/verify/${token}`);\n                    console.log(res.data);\n        \n                    if (res.status === 200) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                } catch (error) {\n                    console.error(\"Error verifying token:\", error);\n                    return false;\n                }\n            };\n\n            const verify = await verifyToken();\n            if (!verify) {\n                navigate('/login'); \n            }\n        };\n\n        checkAuthorization();\n    }, [token, navigate]); \n};\n\nexport default IsAuthorised;"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAG9BF,SAAS,CAAC,MAAM;IACZ,MAAMS,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI,CAACJ,KAAK,IAAIA,KAAK,KAAK,WAAW,IAAIA,KAAK,KAAK,MAAM,EAAE;QACrDG,QAAQ,CAAC,QAAQ,CAAC;QAClB;MACJ;MAEA,MAAME,WAAW,GAAG,MAAAA,CAAA,KAAY;QAC5B,IAAI;UACA,MAAMC,GAAG,GAAG,MAAMV,aAAa,CAACW,GAAG,CAAC,eAAeP,KAAK,EAAE,CAAC;UAC3DQ,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;UAErB,IAAIJ,GAAG,CAACK,MAAM,KAAK,GAAG,EAAE;YACpB,OAAO,IAAI;UACf,CAAC,MAAM;YACH,OAAO,KAAK;UAChB;QACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;UACZJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C,OAAO,KAAK;QAChB;MACJ,CAAC;MAED,MAAMC,MAAM,GAAG,MAAMR,WAAW,CAAC,CAAC;MAClC,IAAI,CAACQ,MAAM,EAAE;QACTV,QAAQ,CAAC,QAAQ,CAAC;MACtB;IACJ,CAAC;IAEDC,kBAAkB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACJ,KAAK,EAAEG,QAAQ,CAAC,CAAC;AACzB,CAAC;AAACJ,EAAA,CApCID,YAAY;EAAA,QAEGD,WAAW;AAAA;AAAAiB,EAAA,GAF1BhB,YAAY;AAsClB,eAAeA,YAAY;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}