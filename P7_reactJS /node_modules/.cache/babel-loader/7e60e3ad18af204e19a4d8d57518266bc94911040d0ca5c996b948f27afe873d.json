{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { axiosInstance } from './axiosInstance';\nimport { useNavigate } from 'react-router-dom';\nconst IsAuthorised = () => {\n  _s();\n  const token = localStorage.getItem(\"token\");\n  const navigate = useNavigate();\n  const verifyToken = async () => {\n    try {\n      const res = await axiosInstance.get(`user/verify/${token}`);\n      console.log(res.data);\n      if (res.status === 200) {\n        return true;\n      } else {\n        return false;\n      }\n    } catch (error) {\n      console.error(\"Error verifying token:\", error);\n      return false;\n    }\n  };\n  useEffect(() => {\n    const checkAuthorization = async () => {\n      if (!token || token === \"undefined\" || token === \"null\") {\n        navigate('/login');\n        return;\n      }\n      const verify = await verifyToken();\n      if (!verify) {\n        navigate('/login');\n      }\n    };\n    checkAuthorization();\n  }, [token, navigate]);\n};\n_s(IsAuthorised, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = IsAuthorised;\nexport default IsAuthorised;\nvar _c;\n$RefreshReg$(_c, \"IsAuthorised\");","map":{"version":3,"names":["useEffect","axiosInstance","useNavigate","IsAuthorised","_s","token","localStorage","getItem","navigate","verifyToken","res","get","console","log","data","status","error","checkAuthorization","verify","_c","$RefreshReg$"],"sources":["/home/irfan_usuf/ILS/GIT004/P3_fuzzyGoggle/client/src/utils/IsAuthorised.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { axiosInstance } from './axiosInstance';\nimport { useNavigate } from 'react-router-dom';\n\nconst IsAuthorised = () => {\n    const token = localStorage.getItem(\"token\");\n    const navigate = useNavigate();\n\n    const verifyToken = async () => {\n        try {\n            const res = await axiosInstance.get(`user/verify/${token}`);\n            console.log(res.data);\n\n            if (res.status === 200) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (error) {\n            console.error(\"Error verifying token:\", error);\n            return false;\n        }\n    };\n\n    useEffect(() => {\n        const checkAuthorization = async () => {\n            if (!token || token === \"undefined\" || token === \"null\") {\n                navigate('/login'); \n                return;\n            }\n\n            const verify = await verifyToken();\n            if (!verify) {\n                navigate('/login'); \n            }\n        };\n\n        checkAuthorization();\n    }, [token, navigate]); \n};\n\nexport default IsAuthorised;"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAMO,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMT,aAAa,CAACU,GAAG,CAAC,eAAeN,KAAK,EAAE,CAAC;MAC3DO,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;MAErB,IAAIJ,GAAG,CAACK,MAAM,KAAK,GAAG,EAAE;QACpB,OAAO,IAAI;MACf,CAAC,MAAM;QACH,OAAO,KAAK;MAChB;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZJ,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,OAAO,KAAK;IAChB;EACJ,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACZ,MAAMiB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI,CAACZ,KAAK,IAAIA,KAAK,KAAK,WAAW,IAAIA,KAAK,KAAK,MAAM,EAAE;QACrDG,QAAQ,CAAC,QAAQ,CAAC;QAClB;MACJ;MAEA,MAAMU,MAAM,GAAG,MAAMT,WAAW,CAAC,CAAC;MAClC,IAAI,CAACS,MAAM,EAAE;QACTV,QAAQ,CAAC,QAAQ,CAAC;MACtB;IACJ,CAAC;IAEDS,kBAAkB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACZ,KAAK,EAAEG,QAAQ,CAAC,CAAC;AACzB,CAAC;AAACJ,EAAA,CAnCID,YAAY;EAAA,QAEGD,WAAW;AAAA;AAAAiB,EAAA,GAF1BhB,YAAY;AAqClB,eAAeA,YAAY;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}